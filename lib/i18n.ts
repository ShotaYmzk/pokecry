export type Language = 'ja' | 'en';

export const translations = {
  ja: {
    title: 'ポケモン鳴き声クイズ',
    description: 'ポケモンの鳴き声だけでポケモンを当てるゲーム',
    home: {
      title: 'ポケモン鳴き声クイズ',
      description: 'ポケモンの鳴き声だけでポケモンを当てるゲームです',
      welcome: 'おかえりなさい',
      welcomeMessage: '今日もポケモンの鳴き声を聴きましょう。',
      mainModes: 'メインモード',
      quiz: '鳴き声クイズ',
      selectFromChoices: '選択肢から選ぶ',
      expert: 'エキスパート',
      inputName: '名前を入力する',
      englishModes: '英語モード',
      quizEn: '英語名クイズ',
      selectAnswer: '選択式',
      typeName: '入力式',
      selectEnFromChoices: '英語名を選択肢から選ぶ',
      inputEnName: '英語名を入力する',
      generationPokedex: '世代別図鑑',
      pokemonList: 'ポケモン図鑑',
      compareSounds: '鳴き声聴き比べ',
      weakPokemonQuiz: '苦手ポケモンだけでクイズ',
      settings: '設定',
      soundCheck: 'サウンドチェック',
      soundCheckDescription: '音声を確認する',
      tips: 'ヒント',
      tipsDescription: 'ヘッドフォンを使うとより良い体験ができます。似ている鳴き声があるので注意！',
      reviewWeak: '苦手ポケモンを復習 →',
    },
    quiz: {
      title: 'ポケモン鳴き声クイズ',
      battleMode: 'バトルモード',
      selectAnswer: '回答を選択',
      instruction: 'このポケモンの鳴き声を聞いて、正しい名前を選んでください',
      playing: '再生中...',
      correct: '✓ 正解！',
      incorrect: '✗ 不正解',
      correctAnswer: '正解は',
      was: 'でした',
      nextQuestion: '次の問題へ',
      backToHome: 'ホームに戻る',
      audioNotSupported: 'お使いのブラウザは音声再生に対応していません。',
    },
    quizInput: {
      title: 'ポケモン鳴き声クイズ（名前入力）',
      expertMode: 'エキスパートモード',
      instruction: 'このポケモンの鳴き声を聞いて、名前を入力してください',
      pokemonName: 'ポケモンの名前',
      placeholder: '例: ピカチュウ',
      submit: '回答する',
      yourAnswer: 'あなたの回答',
      loadingWaveform: '波形を読み込んでいます...',
      waveformError: '波形の描画に失敗しました',
      loading: '読み込み中...',
    },
    quizEn: {
      title: 'ポケモン英語名クイズ',
      englishQuiz: '英語クイズ',
      selectEnglishName: '英語名を選択',
      japaneseName: '日本語名',
      instruction: '表示された日本語名に対応する英語名を選んでください',
      loading: '読み込み中...',
    },
    quizEnInput: {
      title: 'ポケモン英語名クイズ（入力）',
      englishInput: '英語入力',
      yourAnswer: 'あなたの回答（英語）',
      japaneseName: '日本語名',
      instruction: '表示された日本語名に対応する英語名を入力してください',
      pokemonName: 'ポケモンの英語名',
      placeholder: '例: Pikachu',
      loading: '読み込み中...',
    },
    generation: {
      all: '全世代',
      label: '世代',
      pokemon: '匹',
      gen1: '第1世代',
      gen2: '第2世代',
      gen3: '第3世代',
      gen4: '第4世代',
      gen5: '第5世代',
      gen6: '第6世代',
      gen7: '第7世代',
      gen8: '第8世代',
      gen9: '第9世代',
      kanto: 'カントー',
      johto: 'ジョウト',
      hoenn: 'ホウエン',
      sinnoh: 'シンオウ',
      unova: 'イッシュ',
      kalos: 'カロス',
      alola: 'アローラ',
      galar: 'ガラル',
      paldea: 'パルデア',
      selectGen: '出題する世代を選んでください',
      startQuiz: 'クイズスタート',
      changeGen: '世代変更',
    },
    list: {
      title: 'ポケモン図鑑',
      instruction: '画像をクリック/タップで鳴き声を再生。長押しで波形を表示します。',
      backToHome: 'ホームに戻る',
      compareSounds: '鳴き声聴き比べ',
      searchPlaceholder: 'ポケモン名、英語名、IDで検索...',
      searchResults: '件見つかりました',
      noResults: '検索結果が見つかりませんでした',
      clearSearch: '検索をクリア',
      playCry: '鳴き声を再生',
      viewWaveform: '波形を見る',
      selectToView: 'ポケモンを選択して詳細を表示',
    },
    compare: {
      title: 'ポケモン鳴き声聴き比べ',
      selectedPokemon: '選択中のポケモン',
      playAll: '全て順番に再生',
      playing: '再生中...',
      stop: '停止',
      clear: 'クリア',
      play: '再生',
      selectInstruction: '下のリストからポケモンを選択してください（最大10匹）',
      pokemonList: 'ポケモン一覧',
      maxSelection: '最大10匹まで選択できます',
      delete: '削除',
      backToHome: 'ホームに戻る',
    },
    weak: {
      title: '苦手ポケモンクイズ',
      weakList: '苦手リスト',
      count: '匹',
      identifyPokemon: 'ポケモンを当てよう',
      emptyMessage: '苦手リストが空です。',
      emptyDescription: '通常クイズで間違えたポケモンが自動的に追加されます。',
      startNormalQuiz: '通常クイズを始める',
      backToHome: 'ホームに戻る',
      loading: '読み込み中...',
    },
    wave: {
      title: 'の波形',
      back: '戻る',
      notFound: 'ポケモンが見つかりません',
      backToList: '一覧に戻る',
      loading: '波形を読み込んでいます...',
      error: '波形の描画に失敗しました',
    },
  },
  en: {
    title: 'Pokemon Cry Quiz',
    description: 'A game to guess Pokemon by their cries alone',
    home: {
      title: 'Pokemon Cry Quiz',
      description: 'A game to guess Pokemon by their cries alone',
      welcome: 'Welcome Back',
      welcomeMessage: 'Let\'s listen to some Pokemon cries today.',
      mainModes: 'Main Modes',
      quiz: 'Cry Quiz',
      selectFromChoices: 'Select from Choices',
      expert: 'Expert',
      inputName: 'Input Name',
      englishModes: 'English Modes',
      quizEn: 'English Name Quiz',
      selectAnswer: 'Select Answer',
      typeName: 'Type Name',
      selectEnFromChoices: 'Select English Name from Choices',
      inputEnName: 'Input English Name',
      generationPokedex: 'Pokedex by Generation',
      pokemonList: 'Pokemon Pokedex',
      compareSounds: 'Compare Cries',
      weakPokemonQuiz: 'Weak Pokemon Quiz',
      settings: 'Settings',
      soundCheck: 'Sound Check',
      soundCheckDescription: 'Test your audio',
      tips: 'Tips',
      tipsDescription: 'Use headphones for the best experience. Some cries are very similar!',
      reviewWeak: 'Review Weak Pokemon →',
    },
    quiz: {
      title: 'Pokemon Cry Quiz',
      battleMode: 'Battle Mode',
      selectAnswer: 'Select Answer',
      instruction: 'Listen to this Pokemon\'s cry and select the correct name',
      playing: 'Playing...',
      correct: '✓ Correct!',
      incorrect: '✗ Incorrect',
      correctAnswer: 'The correct answer is',
      was: 'was',
      nextQuestion: 'Next Question',
      backToHome: 'Back to Home',
      audioNotSupported: 'Your browser does not support audio playback.',
    },
    quizInput: {
      title: 'Pokemon Cry Quiz (Input Name)',
      expertMode: 'Expert Mode',
      instruction: 'Listen to this Pokemon\'s cry and enter its name',
      pokemonName: 'Pokemon Name',
      placeholder: 'e.g., Pikachu',
      submit: 'Submit',
      yourAnswer: 'Your Answer',
      loadingWaveform: 'Loading waveform...',
      waveformError: 'Failed to draw waveform',
      loading: 'Loading...',
    },
    quizEn: {
      title: 'Pokemon English Name Quiz',
      englishQuiz: 'English Quiz',
      selectEnglishName: 'Select English Name',
      japaneseName: 'Japanese Name',
      instruction: 'Select the English name that corresponds to the displayed Japanese name',
      loading: 'Loading...',
    },
    quizEnInput: {
      title: 'Pokemon English Name Quiz (Input)',
      englishInput: 'English Input',
      yourAnswer: 'Your Answer (English)',
      japaneseName: 'Japanese Name',
      instruction: 'Enter the English name that corresponds to the displayed Japanese name',
      pokemonName: 'Pokemon English Name',
      placeholder: 'e.g., Pikachu',
      loading: 'Loading...',
    },
    generation: {
      all: 'All Generations',
      label: 'Generation',
      pokemon: 'Pokemon',
      gen1: 'Gen I',
      gen2: 'Gen II',
      gen3: 'Gen III',
      gen4: 'Gen IV',
      gen5: 'Gen V',
      gen6: 'Gen VI',
      gen7: 'Gen VII',
      gen8: 'Gen VIII',
      gen9: 'Gen IX',
      kanto: 'Kanto',
      johto: 'Johto',
      hoenn: 'Hoenn',
      sinnoh: 'Sinnoh',
      unova: 'Unova',
      kalos: 'Kalos',
      alola: 'Alola',
      galar: 'Galar',
      paldea: 'Paldea',
      selectGen: 'Select generations to include',
      startQuiz: 'Start Quiz',
      changeGen: 'Change Gen',
    },
    list: {
      title: 'Pokemon Pokedex',
      instruction: 'Click/tap image to play cry. Long press to show waveform.',
      backToHome: 'Back to Home',
      compareSounds: 'Compare Cries',
      searchPlaceholder: 'Search by name, English name, or ID...',
      searchResults: 'results found',
      noResults: 'No search results found',
      clearSearch: 'Clear search',
      playCry: 'Play Cry',
      viewWaveform: 'View Waveform',
      selectToView: 'Select a Pokemon to view details',
    },
    compare: {
      title: 'Compare Pokemon Cries',
      selectedPokemon: 'Selected Pokemon',
      playAll: 'Play All Sequentially',
      playing: 'Playing...',
      stop: 'Stop',
      clear: 'Clear',
      play: 'Play',
      selectInstruction: 'Select Pokemon from the list below (max 10)',
      pokemonList: 'Pokemon List',
      maxSelection: 'You can select up to 10 Pokemon',
      delete: 'Delete',
      backToHome: 'Back to Home',
    },
    weak: {
      title: 'Weak Pokemon Quiz',
      weakList: 'Weak List',
      count: 'Pokemon',
      identifyPokemon: 'Identify Pokemon',
      emptyMessage: 'Weak list is empty.',
      emptyDescription: 'Pokemon you answered incorrectly in the normal quiz will be automatically added.',
      startNormalQuiz: 'Start Normal Quiz',
      backToHome: 'Back to Home',
      loading: 'Loading...',
    },
    wave: {
      title: '\'s Waveform',
      back: 'Back',
      notFound: 'Pokemon not found',
      backToList: 'Back to List',
      loading: 'Loading waveform...',
      error: 'Failed to draw waveform',
    },
  },
} as const;

export function getTranslation(lang: Language, key: string): string {
  const keys = key.split('.');
  let value: any = translations[lang];
  
  for (const k of keys) {
    value = value?.[k];
    if (value === undefined) {
      // Fallback to Japanese if translation is missing
      value = translations.ja;
      for (const k2 of keys) {
        value = value?.[k2];
      }
      break;
    }
  }
  
  return value ?? key;
}

